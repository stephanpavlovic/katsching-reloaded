= form_with model: transaction, url: url, class: 'Form', data: { 'turbo-frame': '_top' } do |f|
  .Flex
    .Flex-item
      .MarginBottom= f.number_field :amount, value: transaction.amount&.abs&.to_f, class: 'Input asMain', placeholder: '0.00', step: 0.01, min: 0.01, data: { controller: 'auto-focus autoscroll', action: 'focus->autoscroll#scroll' }, required: true
    .Flex-item
      %label.CheckboxLabel
        = check_box_tag :outgoing, true, transaction.outgoing?, class: 'Checkbox', data: { controller: 'toggle' }
        = t('.outgoing')
  .Flex.MarginBottom
    .Flex-item
      .MarginBottomSmall= f.label :category, class: 'Label'
      = f.select :category, options_for_select(category_options, transaction.category), {}, class: 'Select'
    .Flex-item
      .MarginBottomSmall= f.label :date, class: 'Label'
      = f.date_field :date, class: 'Input'
  .MarginBottomSmall= f.label :name, class: 'Label'
  .MarginBottom= f.text_field :name, class: 'Input'
  .MarginBottom
    %label.CheckboxLabel
      = f.check_box :shared, value: true, class: 'Checkbox'
      = t('.shared')
  .Flex
    = f.submit t('.submit'), class: 'Button'
    = link_to "Cancel", user_path(transaction.user.slug), class: 'Link'
